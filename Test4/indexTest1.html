<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <h1 id="textMessage1"></h1>
    <h1 id="textMessage2"></h1>
</body>

<script>
    // Comme exo 2, recuperer la donnée envoyé depuis le parend dans l'URL de l'iframe
    var message1 = location.href.split('?')[1].split('=')[1];
    console.log(message1);
    document.getElementById("textMessage1").innerHTML = message1;

    // Get data from Post Message
    window.addEventListener('message', function (event) {
        var message2;
        // Je suis en local donc pas besoin de la sécurité en vérifiant l'origine
        // var origin = event.origin || event.originalEvent.origin;
        // if (origin !== "*"){
        //     message2 = "Pas de message, origine inconnu";
        //     return;
        // }
        message2 = event.data;
        console.log(message2);
        document.getElementById("textMessage2").innerHTML = message2;
    }, false);

</script>
</html>